<%
  # Input component adapted from Catalyst
  # Usage: <%= render "shared/ui/input", type: "email", name: "email", placeholder: "Enter email", classes: "" %>
  
  type = local_assigns[:type] || "text"
  name = local_assigns[:name] || ""
  placeholder = local_assigns[:placeholder] || ""
  classes = local_assigns[:classes] || ""
  value = local_assigns[:value] || ""
  required = local_assigns[:required] || false
  
  wrapper_classes = [
    "relative block w-full",
    "before:absolute before:inset-px before:rounded-[calc(theme(borderRadius.lg)-1px)] before:bg-white before:shadow-sm",
    "dark:before:hidden",
    "after:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:ring-transparent after:ring-inset sm:focus-within:after:ring-2 sm:focus-within:after:ring-blue-500"
  ].join(" ")
  
  input_classes = [
    "relative block w-full appearance-none rounded-lg",
    "px-[calc(theme(spacing.3.5)-1px)] py-[calc(theme(spacing.2.5)-1px)] sm:px-[calc(theme(spacing.3)-1px)] sm:py-[calc(theme(spacing.1.5)-1px)]",
    "text-base/6 text-zinc-950 placeholder:text-zinc-500 sm:text-sm/6 dark:text-white",
    "border border-zinc-950/10 hover:border-zinc-950/20 dark:border-white/10 dark:hover:border-white/20",
    "bg-transparent dark:bg-white/5",
    "focus:outline-hidden",
    "disabled:border-zinc-950/20 dark:disabled:border-white/15 dark:disabled:bg-white/2.5",
    classes
  ].join(" ")
%>

<span class="<%= wrapper_classes %>">
  <input 
    type="<%= type %>" 
    name="<%= name %>" 
    <% if placeholder.present? %>placeholder="<%= placeholder %>"<% end %>
    <% if value.present? %>value="<%= value %>"<% end %>
    <% if required %>required<% end %>
    class="<%= input_classes %>"
  />
</span>